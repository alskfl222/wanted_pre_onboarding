# 원티드 프리온보딩 코스
> [코스 안내 페이지](https://www.wanted.co.kr/wd/95459)

___
## 선발 과제
![페이지 스크린샷](https://user-images.githubusercontent.com/85486762/153364471-f291806b-bbf9-4392-aa93-4b6b1852d538.png)

## 구현 컴포넌트
>Toggle, Modal, Tab, Tag, AutoComplete, ClickToEdit

## 과제 실행방법
0. 실행할 환경은 `node`와 `npm`이 설치되어 있어야 합니다
  - `node v16.13.0`, `npm v8.1.0`

1. `git clone` 혹은 `code`를 다운로드합니다
```
git clone git@github.com:alskfl222/wanted_pre_onboarding.git
```
2. `clone` 혹은 다운로드된 `code`의 압축을 푼 폴더로 이동합니다
```
cd wanted_pre_onboarding
```
3. `node` 패키지를 설치합니다
```
npm install
```
- 설치되는 패키지는 다음과 같습니다
```json
// package.json
  "dependencies": {
    "react": "^17.0.2",
    "react-dom": "^17.0.2",
    "react-scripts": "5.0.0",
    "styled-components": "^5.3.3"
  },
```
4. `npm start`로 클라이언트를 실행합니다
```json
// package.json
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build"
  },
```

## 컴포넌트 설명

0. 기초 환경
- `JavaScript`, `HTML`, `CSS`
- `React` - `Create React App`을 활용하였습니다
- `CSS` 표현을 위해 `Styled-components`를 사용하였습니다

1. Toggle

![토글](https://user-images.githubusercontent.com/85486762/153368207-88ff47e3-ace3-497e-8952-997f0147d5c6.gif)

- 토글 스위치 **ON/OFF**를 상태로 관리합니다
  - `ON` = `true`, `OFF` = `false`
- 토글 스위치가 들어갈 공간과 토글 스위치를 모양에 맞게 만들고
- 토글 스위치를 누를때마다 상태를 서로 바꿔줍니다
- `ON`과 `OFF`일 때 스위치 색깔, 위치, 상태표시 문자를 바꿔주고
- CSS `transition` 속성으로 부드럽게 바뀌게끔 구현하였습니다

> #### Point
> 토글 버튼의 구체적인 모습을 그리지 않고 시도 \
> → 조금씩 수치가 흐트러지면서 요소들이 엇갈리게 됨
> - 처음 모양을 잡을 때 최대한 세세한 부분까지 수치를 표시해야 함


2. Modal

![모달](https://user-images.githubusercontent.com/85486762/153369772-79c8d6e6-024c-4285-96ee-efc60aa51e57.gif)

- 모달창을 **보여줄지 말지**를 상태로 관리합니다
  - `ON` = true, `OFF` = false
- 모달창이 띄워졌을 때 **창 바깥 배경은 어둡게 처리**
- `Open` 버튼을 누르면 `ON`, 모달창 `Close` 버튼이나 **창 바깥을 누르면 `OFF`**
  - 배경을 누르면 모달창 ON/OFF 상태가 변경되지만\
  `if (e.target !== e.currentTarget) return;` \
  으로 모달창 내부에서 눌러도 **상태가 변경되지 않음**

> #### Point
> 모달창 바깥을 누르면 꺼지는 것을 구현할 때 \
> 모달창(자식 태그)도 바깥(부모 태그)에 포함되어 있기 때문에 \
> → 모달창 내부를 눌러도 원하지 않게 꺼져버림
> - 이벤트가 발생하는 단계를 알아보고 \
> 이벤트 버블링을 막는 코드를 적용 \
> `if (e.target !== e.currentTarget) return;` \
> 참고 `e.stopPropagation()`

3. Tab

![탭](https://user-images.githubusercontent.com/85486762/153372241-fab7e0d3-fab8-42eb-b74a-d52a4dcb868f.gif)

- **현재 보여지는 탭의 번호**를 상태로 관리합니다
  - **각 탭의 내용(객체)을 배열로 저장**해둡니다
- 탭 목록에 각 탭을 `map`으로 표시하면서 **index에 따른 클래스, 함수를 줍니다**
  - 현재 보여지는 탭이라면 `selected` 클래스 추가
  - 탭 이름을 눌렀을 때 누른 탭의 `index`로 현재 탭을 바꿈
- **현재 보여질 탭의 번호**로 탭의 **내용을 배열에서 찾아서 표시**합니다

> #### Point
> **각 탭의 내용이 많아질 경우**, \
> 컴포넌트 리턴문 내에서 삼항연산자를 사용하여 내용을 작성할 때 \
> _너무 리턴문이 길어지면서 조건을 구별하기 어려워질 수 있음_
> - **각 탭의 내용을 담은 배열 혹은 객체를 준비**하고 \
> 리턴문 내에서는 `index`나 `key`만을 이용하여 \
> 내용을 불러올 수 있음

4. Tag

![태그](https://user-images.githubusercontent.com/85486762/153373219-eba23f8c-20d5-40f6-85e1-9ad7c49e515e.gif)

- **태그들의 배열**을 상태로 관리합니다
- 태그 **창을 눌러 새로운 태그를 입력하고 엔터를 치면 이어서 추가**됩니다
  - `placeholder`로 태그를 입력할 위치를 표시
  - 창을 눌렀을 때 `focus-within` 속성으로 **눌린 것을 보이게** 
- 각 태그는 지울수 있도록 **삭제 버튼이 옆에 있습니다**
  - 눌린 버튼의 `index`에 해당하는 태그를 상태 배열에서 제거 \
  - CSS `::before` `::after` 속성으로 'x'를 표시 \
  추가 아이콘이나 문자를 이용하지 않고 깔끔하게 표시하기 위함

> #### Point
> **추가 아이콘을 불러오지 않고 `CSS`만으로 구현** 
> - `CSS` `position` 속성을 더 자세하게 이용하여 위치 조정
> - `CSS` `pseudo-element` 속성으로 'x' 표시

5. AutoComplete

![자동완성](https://user-images.githubusercontent.com/85486762/153375488-37540156-4516-497c-8592-8522e6b153ac.gif)

- **검색창에 문자가 있는지**를 상태로 관리합니다
  - 있으면 _드롭다운 표시_, 없으면 표시 안 함
- **검색창의 값**을 상태로 관리합니다
- 검색창의 값으로 **자동완성 될 수 있는 검색어들**을 상태로 관리합니다
  - 검색어들은 미리 정해둠
  - **검색어가 검색창의 값을 가지고 있는지**를 확인하여 걸러냄
- **하위 컴포넌트**로 **드롭다운**을 둡니다
  - **자동완성 될 수 있는 검색어를 표시**하고 \
  그 검색어를 누르면 **입력값이 검색어로 자동완성** 되게끔 구현
- **드롭다운 메뉴에서 선택된 단어의 index**를 상태로 관리합니다
- 드롭다운 컴포넌트에 `Props`로 다음을 내려줍니다
  - 자동완성 될 수 있는 검색어들 \
  드롭다운 메뉴에서 선택된 단어의 index\
  검색창의 값을 바꿀 수 있는 함수
- 검색창 오른쪽에는 검색창 값을 초기화 할 수 있는 'x' 버튼이 있습니다
  - CSS `::before` `::after` 속성으로 'x'를 표시 \
  추가 아이콘이나 문자를 이용하지 않고 깔끔하게 표시하기 위함
- 드롭다운 메뉴는 키보드 위/아래 키를 눌러 선택을 바꾸거나 \
  엔터키를 눌러 검색어를 완성할 수 있습니다
  - `onKeyUp` 속성을 이용해 함수 연결

> #### Point
> 자동완성 검색창 입력 시 나오는 드롭다운 메뉴에서 \
> 검색어 선택을 키보드 방향키를 눌러서 바꾸는 것을 구현 \
> - 드롭다운 메뉴에서 상태, 함수를 만들어서 시도 해봤지만 실패 \
> → 상위 검색창에서만 `onKeyUp` 이벤트가 발생하고 있기 때문에 \
> 하위 드롭다운에는 어떤 이벤트도 발생하고 있지 않았음
>
> - 검색창에서 선택된 단어의 `index`를 만들어서 `Props`로 내려주고 \
> 드롭다운은 받은 `index`에 맞게 표시만 해주도록 함


6. ClickToEdit

![클릭투에디트](https://user-images.githubusercontent.com/85486762/153383108-05ad5aaf-b3d4-4a42-ad76-f6ae1f5b3425.gif)

- 이름, 나이를 상태로 관리합니다
  - 페이지 내에서 변하는 값
- **하위 컴포넌트**로 입력창을 둡니다
  - 속성만 조금 바꿔서 **재활용할 수 있음**
  - **입력창이 수정 상태인지 아닌지**를 상태로 관리합니다
  - 이름 입력창은 이름과 이름을 바꾸는 함수를 `Props`로 받습니다
  - 나이 입력창은 나이와 나이를 바꾸는 함수를 `Props`로 받습니다
  - 입력창에서 **수정할 부분을 클릭**하면 **입력창을 수정 상태로** 바꿉니다
    - 수정 상태가 아니라면 단순 텍스트, 수정 상태는 `input` 창으로 바뀜
    - `input`의 `value` 속성을 이용하여 기존 값을 초기에 넣어줌
    - `React` `useEffect`, `useRef`로 수정 상태가 될 때 \
    **커서가 입력창에 바로 깜빡**일 수 있게 함
  - 수정이 끝나면 **바깥 부분을 눌러 입력창을 수정 상태에서 빠져나오게** 합니다
    - 이 때, 상위 컴포넌트의 상태도 같이 바뀜
    - `onBlur` : `Focus`를 잃었을 때 = 바깥 부분이 눌렸을 때
  - 상위 컴포넌트의 상태는 입력창 밑 `Text`로 확인 가능합니다

> #### Point
> 수정하려고 창을 누르면 수정 상태로 바뀌지만 \
> 커서가 수정창에 바로 붙지 않고 한 번 더 클릭 해야함 \
> → 사용자 경험에 좋지 않을 것으로 생각
>
> - `React`의 `useRef`를 이용해서 수정창을 연결해두고 \
> `useEffect`로 수정 상태가 될 때마다 \
> 연결해둔 수정창으로 `focus`되도록 구현
